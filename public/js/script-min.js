$((function(){const e=document.querySelectorAll(".address-type"),t=document.querySelectorAll(".form-content"),n=document.getElementById("span-distance"),s=document.getElementById("span-site-status"),o=document.getElementById("span-site-name"),l=document.getElementById("span-site-id"),a=document.getElementById("span-network-conv"),c=document.getElementById("span-loc-latlong"),d=document.getElementById("span-loc-area"),i=document.getElementById("new-container"),y=document.getElementById("content-container"),r=document.getElementById("info-container"),m=document.getElementById("error-box"),u=document.querySelector("#error-box small");e&&e.forEach((function(e){e.addEventListener("click",(function(e){if(this.checked){const n=e.target.id;t&&t.forEach((function(e){e.classList.contains(n)?e.style.display="block":e.style.display="none"}))}i.style.display="none",r.style.display="none",y.style.display="none"}))}));const p=document.getElementById("latlong-form");p&&p.addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("progressIndicatorlat");t.style.display="block",m.style.display="none";const p={type:"latlong",lat:document.getElementById("lat").value,long:document.getElementById("long").value};$.post("/coverage-checker/api/network",p).done((function(e){if(t.style.display="none",0===e.status){const t=e.loc,m=e.netstatus,u=e.distance;let{name:p,status:g,site_id:E}=e.site;switch(m){case"EXCELLENT":case"VERY GOOD":case"GOOD":case"FAIR":a.className="bold green";break;case"POOR":case"NO COVERAGE":a.className="bold red"}s.className="online"===g?"bold green":"bold red",a.textContent=m,d.textContent="",n.textContent=`${u}KM`,c.textContent=t,o.textContent=p,l.textContent=E,s.textContent="online"===g?"IN-SERVICE":"OUT-OF-SERVICE",i.style.display="flex",r.style.display="online"===g?"flex":"none",y.style.display="flex",y.scrollIntoView()}else e.error&&(u.innerHTML=e.message.toString(),m.style.display="block",i.style.display="none",r.style.display="none",y.style.display="none")})).fail((function(e){t.style.display="none",u.innerHTML="No Network. Please check internet connection and try again",m.style.display="block",i.style.display="none",r.style.display="none",y.style.display="none"}))}));const g=document.getElementById("gh-post-form");if(g){const e=document.getElementById("progressIndicator");g.addEventListener("submit",(function(t){t.preventDefault(),e.style.display="block",m.style.display="none";const p={type:"ghanapost",ghpost:document.getElementById("ghanapost-code").value};$.post("/coverage-checker/api/network",p).done((function(t){if(e.style.display="none",0===t.status){const e=t.loc,m=t.netstatus,u=t.area,p=t.distance;let{name:g,status:E,site_id:I}=t.site;switch(m){case"EXCELLENT":case"VERY GOOD":case"GOOD":case"FAIR":a.className="bold green";break;case"POOR":case"NO COVERAGE":a.className="bold red"}s.className="online"===E?"bold green":"bold red",a.textContent=m,n.textContent=`${p}KM`,d.textContent=u,c.textContent=e,o.textContent=g,l.textContent=I,s.textContent="online"===E?"IN-SERVICE":"OUT-OF-SERVICE",i.style.display="flex",r.style.display="online"===E?"flex":"none",y.style.display="flex",y.scrollIntoView()}else t.error&&(u.innerHTML=t.message.toString(),m.style.display="block",i.style.display="none",r.style.display="none",y.style.display="none")})).fail((function(t){e.style.display="none",u.innerHTML="No Network. Please check internet connection and try again",m.style.display="block",i.style.display="none",r.style.display="none",y.style.display="none"}))}))}const E=document.getElementById("times-button-error");E&&E.addEventListener("click",(function(e){E.closest("div").style.display="none"}));const I=document.getElementById("request-callback"),f=document.getElementById("message-box"),b=document.getElementById("message-error"),k=document.getElementById("callback-btn");I&&I.addEventListener("submit",(function(e){e.preventDefault(),k.innerText="Please Wait .....",k.style.background="#424242",k.style.pointerEvents="none",f.style.display="none";const t={name:document.getElementById("name").value,email:document.getElementById("email").value,contact:document.getElementById("contact").value,message:document.getElementById("message").value};$.post("/coverage-checker/api/message",t).done((function(e){"success"===e.status?(window.location.href="/coverage-checker/contact-us-success",k.innerText="SEND",k.style.background="#0245A3",k.style.pointerEvents="auto"):e.error&&(k.innerText="SEND",k.style.background="#0245A3",k.style.pointerEvents="auto",b.innerText=e.message.toString(),f.style.display="block")})).fail((function(e){k.innerText="SEND",k.style.background="#0245A3",k.style.pointerEvents="auto",b.innerText="Please check your internet connection",f.style.display="block"}))}))}));